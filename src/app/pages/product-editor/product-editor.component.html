<div class="row">
    <div *ngIf="product$ | async as product" class="col-6 offset-3 mt-3">
        <h2>Update / Create Product</h2>
        <form #productForm="ngForm" (ngSubmit)="onUpdate(productForm, product)">
            <input name="id" type="hidden" [(ngModel)]="product.id">
            <div class="form-group">
                <label for="name">Name</label>
                <!-- Validation: min 8 char, max 40 char, required -->
                <input id="name" class="form-control" type="text" name="name" [(ngModel)]="product.name"
                    pattern=".{3,20}" required>
                <div [hidden]="productForm.controls.name?.valid || productForm.controls.name?.pristine" class="error-message">
                    A név minimum 3 és maximum 20 karakterből állhat!
                </div>
            </div>
            <div class="form-group">
                <label for="model">Model</label>
                <input id="Model" class="form-control" type="text" name="model" [(ngModel)]="product.model"
                    pattern=".{3,20}" required>
                <div [hidden]="productForm.controls.model?.valid || productForm.controls.model?.pristine" class="error-message">
                    A név legalább 3, maximum 20 karaktervlehet!
                </div>
            </div>
            <div class="form-group">
                <label for="year">Year</label>
                <input id="year" class="form-control" type="number" name="year" [(ngModel)]="product.year"
                    pattern="(19|20)\d{2}" required>
                <div [hidden]="productForm.controls.year?.valid || productForm.controls.year?.pristine" class="error-message">
                    Az évszám 1900 és 2000-es évjárat lehet.
                </div>
            </div>
            <div class="form-group">
                <label for="color">Color</label>
                <input id="color" class="form-control" type="text" name="color" [(ngModel)]="product.color"
                    pattern=".{3,20}" required>
                <div [hidden]="productForm.controls.color?.valid || productForm.controls.color?.pristine" class="error-message">
                    A szín legalább 3, maximum 20 karakter lehet!
                </div>
            </div>
            <button [disabled]="productForm.invalid || updating" type="submit" class="btn btn-primary btn-block mt-5">
                <i *ngIf="!updating" class="fa fa-save"></i>
                <i *ngIf="updating" class="fa fa-refreh"></i>

            </button>
        </form>
    </div>
</div>